{% extends 'layout.html' %}

{% block content %}
    <div>
    <div class="text-center col-sm-6 mx-auto">
        {{ follow_info.follows }} Follows
        {{ follow_info.followers }} Followers
        {% if user.username != title %}
            <button class="col-sm-2">Follow</button>
        {% endif %}
    </div>
    <div>
    {% for post in posts %}
        <div class="card col-sm-6 mx-auto my-4">
        <div class="text-center">
            <div>
                <p> {{ post.username }}</p>
                <h2> {{ post.title }} </h2>
                <p> {{ post.body }} </p>
                <img src="{{ post.img_url }}" alt="Post Image" width="500" height="300" class="img-fluid my-2" />
            </div>
            <div class="my-2">
                <button class="btn col-sm-2 {% if post.liked == True %} btn-danger {% else %} btn-outline-danger {% endif %}"
                   id="LikeButton{{ post.id }}" onclick="LikePost({{ post.id }})">Like</button>
                <a href="/post/detail/{{ post.id }}"> <span id="NumLikes{{ post.id }}"> {% if post.likes %} {{ post.likes }} {% else %} 0 {% endif %} </span> </a> likes
                <a href="/post/detail/{{ post.id }}"> <span id="NumComments{{ post.id }}"> {% if post.comments %} {{ post.comments }} {% else %} 0 {% endif %} </span> </a> comments
            </div>
        </div>
        <div class="mx-auto container" id="commentGroup{{ post.id }}">
        </div>
        </div>
    {% endfor %}
    </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="{{ url_for('static', filename='js/post_action.js') }}"></script>

{% endblock %}